1. **Гибридное хранение данных**:
   - **PostgreSQL**: Пользователи и цели хранятся в PostgreSQL.
   - **MongoDB**: Задачи хранятся в MongoDB (NoSQL).
   - **Redis**: Добавлено кэширование данных пользователей для повышения производительности.
   - **Kafka**: Используется для асинхронной обработки создания пользователей.
2. **Использование Kafka**: Добавлена асинхронная обработка создания пользователей через Kafka. Это позволяет улучшить производительность и масштабируемость приложения.
3. **Новые скрипты**:
   - `writer.py`: Потребитель Kafka, который обрабатывает сообщения о создании пользователей и сохраняет их в PostgreSQL.
4. **Интеграция SQLAlchemy, PyMongo, Redis и Kafka**: Приложение использует SQLAlchemy для работы с PostgreSQL, PyMongo для работы с MongoDB, Redis для кэширования и Kafka для асинхронной обработки.

## Сущности

### Пользователь (User)
- **id**: Уникальный идентификатор пользователя.
- **username**: Имя пользователя (уникальное).
- **email**: Электронная почта пользователя (уникальная).
- **hashed_password**: Хэшированный пароль пользователя.
- **first_name**: Имя пользователя.
- **last_name**: Фамилия пользователя.
- **age**: Возраст пользователя (опционально).

### Цель (Goal)
- **id**: Уникальный идентификатор цели.
- **description**: Описание цели.
- **owner_id**: ID пользователя, которому принадлежит цель.

### Задача (Task) (хранится в MongoDB)
- **id**: Уникальный идентификатор задачи (ObjectId в MongoDB).
- **description**: Описание задачи.
- **status**: Статус задачи (по умолчанию: "pending").
- **goal_id**: ID цели, к которой относится задача.
- **assignee_id**: ID пользователя, назначенного на задачу.

## API Методы

### Аутентификация
- **POST /token**: Аутентификация и получение JWT токена.
  - **Тело запроса**: `username` и `password`.
  - **Ответ**: `access_token` и `token_type`.

### Пользователи
- **GET /users**: Получить список всех пользователей.
- **POST /users**: Создать нового пользователя (асинхронно через Kafka).
  - **Тело запроса**: Данные пользователя (username, email, password, first_name, last_name, age).
- **GET /users/search**: Поиск пользователей по имени или фамилии.
  - **Параметр запроса**: `query` (строка поиска).
- **GET /users/{user_id}**: Получить конкретного пользователя по ID (с кэшированием в Redis).

### Цели
- **POST /goals**: Создать новую цель.
  - **Тело запроса**: Описание цели (`description`).
- **GET /goals**: Получить список всех целей текущего пользователя.

### Задачи
- **POST /goals/{goal_id}/tasks**: Создать новую задачу для конкретной цели.
  - **Тело запроса**: Описание задачи (`description`) и ID назначенного пользователя (`assignee_id`).
- **GET /goals/{goal_id}/tasks**: Получить все задачи для конкретной цели.
- **PUT /tasks/{task_id}**: Обновить статус конкретной задачи.
  - **Тело запроса**: Новый статус задачи (`status`).

## Запуск приложения
   ```bash
   python init_db.py
   python main.py
   python writer.py